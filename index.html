<!DOCTYPE html>
<html lang="en">

<head>
    <style>
        /* Additional styles for button background images */
        .section-btn {
            background-size: cover; /* Ensure the image covers the entire button without stretching */
            background-position: center; /* Center the image within the button */
            background-blend-mode: darken;
            padding: 15px;
            text-align: center;
            margin-bottom: 10px;
            background-color: rgba(0, 0, 0, 0.5); /* Add a semi-transparent black background to darken the image */
            color: white; /* Set text color to white */
            border: none; /* Remove button border */
            width: 100%; /* Set button width to 100% */
        }

        /* Additional styles for the video banner */
        #video-banner {
            position: relative;
            width: 100%;
            overflow: hidden;
        }

        #video {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        #text-overlay {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: white;
            font-size: 24px;
            text-align: center;
        }

        /* Carousel styles */
        .carousel-inner {
            max-width: 100%;
            margin: auto;
        }

        .carousel-inner img {
            width: 100%;
            height: auto;
            object-fit: cover;
        }
    </style>
    <title>Philip Van Veelen - Industrial Designer</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
        integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="styles.css">
</head>

<body>

    <!-- Video banner -->
    <div id="video-banner">
        <video id="video" autoplay muted loop>
            <source src="video/video.mp4" type="video/mp4">
            Your browser does not support the video tag.
        </video>
        <div id="text-overlay">
            <h1>Philip van Veelen</h1>
            <p>Industrial Design Portfolio</p>
        </div>
    </div>

    <!-- Portfolio sections -->
    <div class="container">
        <h1>Projects</h1>
        <div class="row">
            <!-- Left column with buttons -->
            <div class="col-md-3">
                <div class="hoi">
                    <!-- Buttons will be dynamically generated here -->
                </div>
            </div>
            <!-- Right column with sections -->
            <div class="col-md-9">
                <!-- Section to display external text -->
                <div id="externalText"></div>
                <!-- Carousel -->
                <div id="externalImage" class="carousel slide" data-ride="carousel">
                    <div class="carousel-inner"></div>
                    <a class="carousel-control-prev" href="#externalImage" role="button" data-slide="prev">
                        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                        <span class="sr-only">Previous</span>
                    </a>
                    <a class="carousel-control-next" href="#externalImage" role="button" data-slide="next">
                        <span class="carousel-control-next-icon" aria-hidden="true"></span>
                        <span class="sr-only">Next</span>
                    </a>
                </div>
            </div>
        </div>
    </div>

    <!-- JavaScript Section -->
    <script>
        // Define an array of button information
        var buttons = [
            {"textFiles": ["text/cairn.txt"], "imageFiles": ["images/cairn.png"], "title": "CAIRN"},
            {"textFiles": ["text/edag.txt"], "imageFiles": ["images/edagsketch.png"], "title": "EDAG COMMERCIAL VEHICLE"},
            {"textFiles": ["text/ebusco.txt"], "imageFiles": ["images/ebuscoapp.png"], "title": "M2.1 EBUSCO"},
            {"textFiles": ["text/ecomotive.txt"], "imageFiles": ["images/zemphoto1.jpg"], "title": "TU/ECOMOTIVE (Extra)"},
            {"textFiles": ["text/m12.txt"], "imageFiles": ["images/research2.png"], "title": "M 1.2 DESIGN RESEARCH"},
            {"textFiles": ["text/m11.txt"], "imageFiles": ["images/m11.jpg"], "title": "M 1.1: INNOVATION SPACE PROJECT"},
            {"textFiles": ["text/poa.txt"], "imageFiles": ["images/collage.png"], "title": "PERSPECTIVES ON AESTHETICS"},
            {"textFiles": ["text/cdr.txt"], "imageFiles": ["images/CDRposter.png"], "title": "CONSTRUCTIVE DESIGN RESEARCH"},
            {"textFiles": ["text/im.txt"], "imageFiles": ["images/IM.jpg","images/immaterials.png"], "title": "INTERACTIVE MATERIALITY"},
            {"textFiles": ["text/ux.txt", "text/external-text3.txt"], "imageFiles": ["images/uxroom.png"], "title": "USER EXPERIENCE THEORY AND PRACTICE"},
            {"textFiles": ["text/ded.txt"], "imageFiles": ["images/birdsensor1.png", "images/bird.jpg", "images/download (1).jpg"], "title": "DATA-ENABLED DESIGN"},
            {"textFiles": ["text/dis.txt", "text/external-text2.txt", "text/external-text3.txt"], "imageFiles": ["images/klaar1.jpg", "images/download (1).jpg"], "title": "DESIGN INNOVATION STRATEGIES"},
            {"textFiles": ["text/sketch.txt"], "imageFiles": ["images/dolce.png"], "title": "DESIGN SKETCHING"},
            {"textFiles": ["text/3d.txt"], "imageFiles": ["images/pagan3.png","images/paganibody.jpg"], "title": "3D MODELLING"},
        ];

        // Function to load external text and image content based on the index
        function loadExternalContent(index) {
            var buttonInfo = buttons[index];

            // Fetch and display all text content
            var textContent = buttonInfo.textFiles.map(function (textFile) {
                return fetch(textFile).then(response => response.text());
            });

            Promise.all(textContent)
                .then(function (contents) {
                    document.getElementById('externalText').innerHTML = contents.join('<br><br>');
                })
                .catch(error => console.error('Error fetching external text:', error));

            var imagesHTML = '';

            // If there's only one image, display it as a regular image
            if (buttonInfo.imageFiles.length === 1) {
                imagesHTML = '<img src="' + buttonInfo.imageFiles[0] + '" alt="External Image" class="projectimage img-fluid">';
            } else {
                // If there are multiple images, create a carousel
                imagesHTML = buttonInfo.imageFiles.map(function (imageFile, i) {
                    return '<div class="carousel-item' + (i === 0 ? ' active' : '') + '"><img src="' + imageFile + '" class="d-block w-100" alt="Image ' + (i + 1) + '"></div>';
                }).join('');
            }

            document.querySelector('#externalImage .carousel-inner').innerHTML = imagesHTML;
        }

        // Select all buttons with the class "section-btn"
        var sectionBtnsContainer = document.querySelector('.hoi');

        // Generate buttons dynamically
        buttons.forEach(function (buttonInfo, index) {
            var button = document.createElement('button');
            button.classList.add('btn', 'btn-secondary', 'section-btn');
            button.style.backgroundImage = 'url("' + buttonInfo.imageFiles[0] + '")';
            button.innerHTML = '<div>' + buttonInfo.title + '</div>';
            button.addEventListener('click', function () {
                loadExternalContent(index);
            });

            // Append button to the container
            sectionBtnsContainer.appendChild(button);
        });

        // Load the first external text file and display image by default
        loadExternalContent(0);
    </script>

    <!-- Bootstrap Scripts -->
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
        integrity="sha384
        -JqIaBkJN6YIjZ5L0OEdT1a9O3gxzMZ9AGgDMNbEpHPPjzA9Dk6BdFj5IBe6lk1U"
        crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
        integrity="sha384
        -
        MNp5w8kODV6vQD3CKJpQVoFqy4Jw8qOgJ1h9MOp6LZ5IapqmE4LUEOxvJr5jv1"
        crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
        integrity="sha384
        -
        JzOeM5f5Nl3E6tVqfCU6tVqUoqLpL+9ad8s/NL5cE9En8zKt6b4ZUpjpu5WJiBR
        6"
        crossorigin="anonymous"></script>

</body>

</html>
